(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2776:(e,t,s)=>{"use strict";s.d(t,{default:()=>y});var a=s(4568),l=s(7620);function n(e){let{selectedStates:t,selectedQuarter:s}=e;return(0,a.jsxs)("header",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:["Employment Data for ",s]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"States:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:t.map((e,t)=>(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e},t))})]})]})}let r=["2023-Q4","2023-Q3","2023-Q2","2023-Q1","2022-Q4","2022-Q3","2022-Q2","2022-Q1","2021-Q4","2021-Q3","2021-Q2","2021-Q1","2020-Q4","2020-Q3","2020-Q2","2020-Q1"];function c(e){let{label:t,options:s,selectedValues:n,onChange:r,placeholder:c="Select option",allowSelectAll:o=!1,multiple:d=!1}=e,[i,m]=(0,l.useState)(!1),x=(0,l.useRef)(null);(0,l.useEffect)(()=>{function e(e){x.current&&!x.current.contains(e.target)&&m(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let u=e=>{if(d)if(o&&"ALL"===e)r(n.includes("ALL")?[]:["ALL"]);else{let t=n.includes(e)?n.filter(t=>t!==e&&"ALL"!==t):[...n.filter(e=>"ALL"!==e),e];r(0===t.length&&o?["ALL"]:t)}else r([e]),m(!1)};return(0,a.jsxs)("div",{className:"relative",ref:x,children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),(0,a.jsxs)("button",{type:"button",className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 text-left shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onClick:()=>m(!i),children:[(0,a.jsx)("span",{className:"block truncate",children:(()=>{if(0===n.length)return c;if(o&&n.includes("ALL"))return"All";if(1===n.length){let e=s.find(e=>e.code===n[0]);return(null==e?void 0:e.name)||c}return"".concat(n.length," Selected")})()}),(0,a.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),i&&(0,a.jsxs)("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none",children:[o&&d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"relative cursor-pointer select-none py-2 pl-3 pr-9 hover:bg-gray-50",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded",checked:n.includes("ALL"),onChange:()=>u("ALL")}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:"All"})]})}),(0,a.jsx)("hr",{className:"my-1"})]}),s.map(e=>(0,a.jsx)("div",{className:"relative cursor-pointer select-none py-2 pl-3 pr-9 hover:bg-gray-50",onClick:d?void 0:()=>u(e.code),children:d?(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded",checked:n.includes(e.code),onChange:()=>u(e.code)}),(0,a.jsx)("span",{className:"ml-2",children:e.name})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"block truncate ".concat(n.includes(e.code)?"font-medium text-blue-600":""),children:e.name}),n.includes(e.code)&&(0,a.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-blue-600",children:(0,a.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})},e.code))]})]})}let{x:o}=JSON.parse('{"x":[{"code":"01","name":"ALABAMA"},{"code":"02","name":"ALASKA"},{"code":"04","name":"ARIZONA"},{"code":"05","name":"ARKANSAS"},{"code":"06","name":"CALIFORNIA"},{"code":"08","name":"COLORADO"},{"code":"09","name":"CONNECTICUT"},{"code":"10","name":"DELAWARE"},{"code":"11","name":"DISTRICT OF COLUMBIA"},{"code":"12","name":"FLORIDA"},{"code":"13","name":"GEORGIA"},{"code":"15","name":"HAWAII"},{"code":"16","name":"IDAHO"},{"code":"17","name":"ILLINOIS"},{"code":"18","name":"INDIANA"},{"code":"19","name":"IOWA"},{"code":"20","name":"KANSAS"},{"code":"21","name":"KENTUCKY"},{"code":"22","name":"LOUISIANA"},{"code":"23","name":"MAINE"},{"code":"24","name":"MARYLAND"},{"code":"25","name":"MASSACHUSETTS"},{"code":"26","name":"MICHIGAN"},{"code":"27","name":"MINNESOTA"},{"code":"28","name":"MISSISSIPPI"},{"code":"29","name":"MISSOURI"},{"code":"30","name":"MONTANA"},{"code":"31","name":"NEBRASKA"},{"code":"32","name":"NEVADA"},{"code":"33","name":"NEW HAMPSHIRE"},{"code":"34","name":"NEW JERSEY"},{"code":"35","name":"NEW MEXICO"},{"code":"36","name":"NEW YORK"},{"code":"37","name":"NORTH CAROLINA"},{"code":"38","name":"NORTH DAKOTA"},{"code":"39","name":"OHIO"},{"code":"40","name":"OKLAHOMA"},{"code":"41","name":"OREGON"},{"code":"42","name":"PENNSYLVANIA"},{"code":"44","name":"RHODE ISLAND"},{"code":"45","name":"SOUTH CAROLINA"},{"code":"46","name":"SOUTH DAKOTA"},{"code":"47","name":"TENNESSEE"},{"code":"48","name":"TEXAS"},{"code":"49","name":"UTAH"},{"code":"50","name":"VERMONT"},{"code":"51","name":"VIRGINIA"},{"code":"53","name":"WASHINGTON"},{"code":"54","name":"WEST VIRGINIA"},{"code":"55","name":"WISCONSIN"},{"code":"56","name":"WYOMING"}]}');function d(e){let{filters:t,onFiltersChange:s,onSearch:l}=e,n=r.map(e=>({code:e,name:e}));return(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[(0,a.jsx)(c,{label:"State(s)",options:[{code:"ALL",name:"All States"},...o],selectedValues:0===t.selectedStates.length?["ALL"]:t.selectedStates,onChange:e=>{if(e.includes("ALL")||0===e.length)return void s({...t,selectedStates:[]});s({...t,selectedStates:e})},placeholder:"All States",allowSelectAll:!0,multiple:!0}),(0,a.jsx)(c,{label:"Quarter",options:n,selectedValues:[t.selectedQuarter],onChange:e=>s({...t,selectedQuarter:e[0]}),placeholder:"Select Quarter",multiple:!1}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded mr-2",checked:t.breakdownBySex,onChange:e=>s({...t,breakdownBySex:e.target.checked})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Breakdown by Sex"})]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>s({selectedStates:[],selectedQuarter:r[0],selectedSex:[],breakdownBySex:!1}),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 px-4 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Clear"}),(0,a.jsx)("button",{type:"button",onClick:l,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:"Search"})]})]})})}function i(e){let{className:t="bg-white rounded-lg shadow-md p-6"}=e;return(0,a.jsx)("div",{className:t,children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,a.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"},t))})]})})}function m(e){let{error:t,className:s="bg-white rounded-lg shadow-md p-6"}=e;return(0,a.jsx)("div",{className:s,children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Error loading data"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:t})]})})}function x(e){let{className:t="bg-white rounded-lg shadow-md p-6"}=e;return(0,a.jsx)("div",{className:t,children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No data found"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search criteria."})]})})}function u(e){let{field:t,currentSortField:s,sortDirection:l}=e;return s!==t?(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})}):"asc"===l?(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function h(e){let{showSexBreakdown:t,sortField:s,sortDirection:l,onSort:n}=e;return(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>n("state"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"State"}),(0,a.jsx)(u,{field:"state",currentSortField:s,sortDirection:l})]})}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>n("maleEmployment"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"Male"}),(0,a.jsx)(u,{field:"maleEmployment",currentSortField:s,sortDirection:l})]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>n("femaleEmployment"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"Female"}),(0,a.jsx)(u,{field:"femaleEmployment",currentSortField:s,sortDirection:l})]})})]}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>n("totalEmployment"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:"Total Employment"}),(0,a.jsx)(u,{field:"totalEmployment",currentSortField:s,sortDirection:l})]})})]})})}function p(e){let{row:t,index:s,showSexBreakdown:l,formatNumber:n}=e;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50 ".concat(t.failed?"bg-red-50":""),children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:t.failed?"text-red-600":"",children:t.state}),t.failed&&(0,a.jsx)("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})]}),t.failed&&t.error&&(0,a.jsx)("div",{className:"text-xs text-red-500 mt-1",children:t.error})]}),l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(t.failed?"text-red-400":"text-gray-900"),children:t.failed?"Failed":t.maleEmployment?n(t.maleEmployment):"N/A"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(t.failed?"text-red-400":"text-gray-900"),children:t.failed?"Failed":t.femaleEmployment?n(t.femaleEmployment):"N/A"})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(t.failed?"text-red-400":"text-gray-900"),children:t.failed?"Failed":n(t.totalEmployment)})]},"".concat(t.stateCode,"-").concat(s))}function f(e){let{data:t,showSexBreakdown:s,loading:n,error:r,failures:c=[],totalStates:o=0,successfulStates:d=0}=e,[u,f]=(0,l.useState)("state"),[g,N]=(0,l.useState)("asc"),j=[...t].sort((e,t)=>{let s,a;switch(u){case"state":default:s=e.state,a=t.state;break;case"totalEmployment":s=e.totalEmployment,a=t.totalEmployment;break;case"maleEmployment":s=e.maleEmployment||0,a=t.maleEmployment||0;break;case"femaleEmployment":s=e.femaleEmployment||0,a=t.femaleEmployment||0}if("string"==typeof s&&"string"==typeof a){let e=s.localeCompare(a);return"asc"===g?e:-e}let l=s-a;return"asc"===g?l:-l}),y=e=>e.toLocaleString();return n?(0,a.jsx)(i,{}):r?(0,a.jsx)(m,{error:r}):0===t.length?(0,a.jsx)(x,{}):(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)(h,{showSexBreakdown:s,sortField:u,sortDirection:g,onSort:e=>{e===u?N("asc"===g?"desc":"asc"):(f(e),N("asc"))}}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map((e,t)=>(0,a.jsx)(p,{row:e,index:t,showSexBreakdown:s,formatNumber:y},"".concat(e.stateCode,"-").concat(t)))})]})})})})}var g=s(3297),N=s(2935);let j=(0,N.createServerReference)("4074d2fec5824dc70620fbafa1f32c8ccf17b932c6",N.callServer,void 0,N.findSourceMapURL,"fetchEmploymentData");function y(){let[e,t]=(0,l.useState)({selectedStates:[],selectedQuarter:"2023-Q4",selectedSex:[],breakdownBySex:!1}),{data:s,loading:r,error:c,failures:o,totalStates:i,successfulStates:m,fetchEmploymentData:x}=function(e){let{data:t,isLoading:s,error:a,refetch:l}=(0,g.I)({queryKey:["employmentData",e],queryFn:()=>j(e),enabled:!0});return{data:(null==t?void 0:t.data)||[],loading:s,error:(null==a?void 0:a.message)||null,failures:(null==t?void 0:t.failures)||[],totalStates:(null==t?void 0:t.totalStates)||0,successfulStates:(null==t?void 0:t.successfulStates)||0,fetchEmploymentData:l}}(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n,{selectedQuarter:e.selectedQuarter,selectedStates:e.selectedStates}),(0,a.jsx)(d,{filters:e,onFiltersChange:t,onSearch:()=>{x()}}),(0,a.jsx)(f,{data:s,showSexBreakdown:e.breakdownBySex,loading:r,error:c,failures:o,totalStates:i,successfulStates:m})]})}},3464:(e,t,s)=>{Promise.resolve().then(s.bind(s,2776))}},e=>{e.O(0,[903,270,587,902,358],()=>e(e.s=3464)),_N_E=e.O()}]);